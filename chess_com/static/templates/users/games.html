{% extends 'base/page.html' %}
{% block page_title %}Gambit - View games{% endblock %}
{% block content %}
<div class="col-lg-12">
<h1>Game Repository</h1>

{% if users_jobs %}
<h3>Import Jobs</h3>

<p>It can take some time to import games from Chess.com. Please be patient while
the games are loading. If you feel it has taken far too much time, please file a
bug.</p>

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>ID</th>
      <th>Games Processed</th>
    </tr>
  </thead>
  <tbody>
    {% for job in users_jobs %}
    <tr>
      <td>{{ job.id }}</td>
      <td>{{ job.games_processed }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endif %}

<h3>Games</h3>
<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>Date</th>
      <th>White</th>
      <th>Black</th>
      <th>Result</th>
      <th>My Game</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    {% if users_games %}
    {% for game in users_games %}
    <tr>
      <td>{{ game.date_played }}</td>
      <td>{{ game.white_name }} ({{ game.white_rating }})</td>
      <td>{{ game.black_name }} ({{ game.black_rating }})</td>
      <td>{{ game.game_result }}</td>
      <td>{% if game.users_game %}Yes{% else %}No{% endif %}</td>
      <td><a href="#">Details</a></td>
    </tr>
    {% endfor %}
    {% else %}
    {% endif %}
  </tbody>
</table>
{% endblock %}
